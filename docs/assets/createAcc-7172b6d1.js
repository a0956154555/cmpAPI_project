import{r as g,e as b,i as Y,f as q,g as R,n as K,h as Z,j as G,s as Q,k as ee,l as te,m as ne,d as ae,u as le,p as v,o as z,c as O,b as S,q as F,v as I,x as B,y as J,z as P,w as L,A as oe,B as U,C as re,D as se,_ as ie}from"./index-7411c8c0.js";function ue(e){var o;const l=b(e);return(o=l==null?void 0:l.$el)!=null?o:l}const T=Y?window:void 0;function H(...e){let o,l,d,h;if(typeof e[0]=="string"||Array.isArray(e[0])?([l,d,h]=e,o=T):[o,l,d,h]=e,!o)return K;Array.isArray(l)||(l=[l]),Array.isArray(d)||(d=[d]);const x=[],w=()=>{x.forEach(s=>s()),x.length=0},A=(s,r,m,f)=>(s.addEventListener(r,m,f),()=>s.removeEventListener(r,m,f)),C=Z(()=>[ue(o),b(h)],([s,r])=>{if(w(),!s)return;const m=ne(r)?{...r}:r;x.push(...l.flatMap(f=>d.map(p=>A(s,f,p,m))))},{immediate:!0,flush:"post"}),y=()=>{C(),w()};return G(y),y}const j=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M="__vueuse_ssr_handlers__",ce=de();function de(){return M in j||(j[M]=j[M]||{}),j[M]}function fe(e,o){return ce[e]||o}function pe(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ve={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},$="vueuse-storage";function ge(e,o,l,d={}){var h;const{flush:x="pre",deep:w=!0,listenToStorageChanges:A=!0,writeDefaults:C=!0,mergeDefaults:y=!1,shallow:s,window:r=T,eventFilter:m,onError:f=t=>{console.error(t)}}=d,p=(s?Q:g)(o);if(!l)try{l=fe("getDefaultStorage",()=>{var t;return(t=T)==null?void 0:t.localStorage})()}catch(t){f(t)}if(!l)return p;const c=b(o),u=pe(c),i=(h=d.serializer)!=null?h:ve[u],{pause:V,resume:E}=ee(p,()=>D(p.value),{flush:x,deep:w,eventFilter:m});return r&&A&&(H(r,"storage",n),H(r,$,N)),n(),p;function D(t){try{if(t==null)l.removeItem(e);else{const a=i.write(t),_=l.getItem(e);_!==a&&(l.setItem(e,a),r&&r.dispatchEvent(new CustomEvent($,{detail:{key:e,oldValue:_,newValue:a,storageArea:l}})))}}catch(a){f(a)}}function k(t){const a=t?t.newValue:l.getItem(e);if(a==null)return C&&c!==null&&l.setItem(e,i.write(c)),c;if(!t&&y){const _=i.read(a);return typeof y=="function"?y(_,c):u==="object"&&!Array.isArray(_)?{...c,..._}:_}else return typeof a!="string"?a:i.read(a)}function N(t){n(t.detail)}function n(t){if(!(t&&t.storageArea!==l)){if(t&&t.key==null){p.value=c;return}if(!(t&&t.key!==e)){V();try{(t==null?void 0:t.newValue)!==i.write(p.value)&&(p.value=k(t))}catch(a){f(a)}finally{t?te(E):E()}}}}}function me(e,o={}){var l,d;const{pointerTypes:h,preventDefault:x,stopPropagation:w,exact:A,onMove:C,onEnd:y,onStart:s,initialValue:r,axis:m="both",draggingElement:f=T,containerElement:p,handle:c=e}=o,u=g((l=b(r))!=null?l:{x:0,y:0}),i=g(),V=n=>h?h.includes(n.pointerType):!0,E=n=>{b(x)&&n.preventDefault(),b(w)&&n.stopPropagation()},D=n=>{var t;if(!V(n)||b(A)&&n.target!==b(e))return;const _=((t=b(p))!=null?t:b(e)).getBoundingClientRect(),W={x:n.clientX-_.left,y:n.clientY-_.top};(s==null?void 0:s(W,n))!==!1&&(i.value=W,E(n))},k=n=>{if(!V(n)||!i.value)return;let{x:t,y:a}=u.value;(m==="x"||m==="both")&&(t=n.clientX-i.value.x),(m==="y"||m==="both")&&(a=n.clientY-i.value.y),u.value={x:t,y:a},C==null||C(u.value,n),E(n)},N=n=>{V(n)&&i.value&&(i.value=void 0,y==null||y(u.value,n),E(n))};if(Y){const n={capture:(d=o.capture)!=null?d:!0};H(c,"pointerdown",D,n),H(f,"pointermove",k,n),H(f,"pointerup",N,n)}return{...q(u),position:u,isDragging:R(()=>!!i.value),style:R(()=>`left:${u.value.x}px;top:${u.value.y}px;`)}}function X(e,o,l={}){const{window:d=T}=l;return ge(e,o,d==null?void 0:d.localStorage,l)}const ye=e=>(re("data-v-f5fbc3f7"),e=e(),se(),e),he={id:"formContent"},we={key:0},_e={key:0,class:"noticeAll"},Se={key:1,class:"noticeAll"},be=["value","onClick"],xe={key:1},Ae=["value","onClick"],Ce=ye(()=>S("div",{id:"formFooter"},null,-1)),Ee=ae({__name:"createAcc",setup(e){const o=le(),l=g(null);g(null);const{x:d,y:h,style:x}=me(l,{initialValue:{x:40,y:40}}),w=g(!1);function A(n){w.value=n}const C=/^(?=.*[a-zA-Z]).{8,12}$/,y=/^.{8,12}$/;let s=g(""),r=g(""),m=g(""),f=g(!1),p=g(!1);g(!1);let c=g(""),u=g(""),i=g(!0);const V=()=>{C.test(s.value)?f.value=!1:f.value=!0},E=()=>{y.test(r.value)?p.value=!1:p.value=!0},D=()=>{const n=o.login(c.value,u.value);n?(c.value="",u.value="",alert("登入成功"),o.loginCheck=!0):n||alert("登入失敗")};function k(n){i.value=n}const N=()=>{if(f.value||p.value||!r.value||!s.value){alert("尚未輸入完整");return}o.person.acc=s.value,o.person.password=r.value,X("personAcc",s.value),c.value=s.value,u.value=r.value,X("personPassword",r.value),o.person.email=m.value,o.person.point=0,console.log(o.person),s.value="",r.value="",m.value="",alert("註冊成功"),o.loginCheck=!0};return(n,t)=>v(o).person.acc=="nan"?(z(),O("div",{key:0,class:"wrapper fadeInDown draggable-element",style:oe([v(x),{position:"fixed"}]),ref_key:"draggableElement",ref:l},[S("div",he,[S("h2",{class:F([v(i)?"active":"inactive",,v(i)?"":"underlineHover"]),onClick:t[0]||(t[0]=a=>k(!0))}," 登入 ",2),S("h2",{class:F([v(i)?"inactive":"active",v(i)?"underlineHover":""]),onClick:t[1]||(t[1]=a=>k(!1))}," 註冊 ",2),v(i)?P("",!0):(z(),O("form",we,[I(S("input",{type:"text",id:"login",class:"fadeIn second",name:"login",placeholder:"註冊帳號","onUpdate:modelValue":t[2]||(t[2]=a=>J(s)?s.value=a:s=a),onInput:V},null,544),[[B,v(s)]]),v(f)?(z(),O("div",_e,"請輸入8~12位元，至少含一個英文字")):P("",!0),I(S("input",{type:"text",id:"password",class:"fadeIn third",name:"login",placeholder:"註冊密碼","onUpdate:modelValue":t[3]||(t[3]=a=>J(r)?r.value=a:r=a),onInput:E},null,544),[[B,v(r)]]),v(p)?(z(),O("div",Se,"請輸入8~12位元")):P("",!0),I(S("input",{type:"submit",class:"fadeIn fourth",value:w.value?"Sign In":"註冊",onClick:L(N,["prevent"])},null,8,be),[[v(U),A]])])),v(i)?(z(),O("form",xe,[I(S("input",{type:"text",id:"login",class:"fadeIn second",name:"login",placeholder:"登入帳號","onUpdate:modelValue":t[4]||(t[4]=a=>J(c)?c.value=a:c=a)},null,512),[[B,v(c)]]),I(S("input",{type:"text",id:"password",class:"fadeIn third",name:"login",placeholder:"登入密碼","onUpdate:modelValue":t[5]||(t[5]=a=>J(u)?u.value=a:u=a)},null,512),[[B,v(u)]]),I(S("input",{type:"button",class:"fadeIn fourth",value:w.value?"Join In":"登入",onClick:L(D,["prevent"])},null,8,Ae),[[v(U),A]])])):P("",!0),Ce])],4)):P("",!0)}});const ke=ie(Ee,[["__scopeId","data-v-f5fbc3f7"]]);export{ke as default};
