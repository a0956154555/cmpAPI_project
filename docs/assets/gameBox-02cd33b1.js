import{d as U,r as t,u as X,E as Y,F as Z,o as p,c as w,p as u,y as x,b as c,z as g,G as ee,H as oe,t as M,v as te,I as ue,q as ae,B as re,C as ne,D as le,_ as se}from"./index-48e9fba8.js";import{g as e}from"./index-4db78ffb.js";const T=b=>(ne("data-v-f6fbeddf"),b=b(),le(),b),ye={class:"gameAllOuter"},ie=T(()=>c("div",{class:"ruleTitle"},"遊戲規則",-1)),de=T(()=>c("div",{class:"ruleDetail"}," 按下開始後裡面有1~9隨機數字,點擊卡片即可累加,若超過21點及判定失敗,在那之前點擊完成可累積點數 ",-1)),ve=[ie,de],pe=["onClick","onMousemove","onMouseleave"],we={class:"flip-card-inner"},ce=T(()=>c("div",{class:"flip-card-front"},[c("h3",null,"猜猜看")],-1)),Oe={class:"flip-card-back"},fe={key:2},me={key:3,class:"pointOverNotice"},_e=["disabled"],ge=U({__name:"gameBox",setup(b){const I=t(!1);function P(o){I.value=o}const k=X(),V=Y();let $=t(!1),h=t(!0),z=t(!1),A=t(!1),F=t(!1),R=t([!1,!1,!1,!1,!1,!1,!1,!1]),O=t(0),B=t([]),E=new Set,S=t(null),L=t(null),_=t(!0);const N=t(null);let a=t(null),r=t(null),n=t(null),l=t(null),s=t(null),y=t(null),i=t(null),d=t(null),v=t(null);Z(()=>{e.to(L.value,{y:-20,duration:1.5,ease:"power2.inOut",repeat:-1,yoyo:!0});const o=1,f=8;for(;B.value.length<8;){const m=Math.floor(Math.random()*(f-o+1))+o;E.has(m)||(E.add(m),B.value.push(m))}console.log(B),e.to(S.value,{y:-20,duration:1,ease:"power2.inOut",repeat:-1,yoyo:!0})});const q=o=>{o==0?e.to(a.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==1?e.to(r.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==2?e.to(n.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==3?e.to(l.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==4?e.to(s.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==5?e.to(y.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==6?e.to(i.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==7?e.to(d.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0}):o==8&&e.to(v.value,{y:-20,duration:.2,ease:"power2.inOut",yoyo:!0})},W=o=>{o===0?(e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==1?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==2?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==3?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==4?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==5?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==6?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==7?(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(v.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0})):o==8&&(e.to(a.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(r.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(n.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(l.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(s.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(y.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(i.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}),e.to(d.value,{y:20,duration:.2,ease:"power2.inOut",yoyo:!0}))},j=()=>{k.allRecords.push({acc:k.person.acc,date:`${new Date().getMonth()+1}/${new Date().getDate()}`,point:O.value}),!(O.value>21)&&(k.person.point+=O.value,e.to(N.value,{x:-900,duration:.2,ease:"power1.inOut",yoyo:!0,onComplete:()=>{e.to(N.value,{x:1500,duration:.4,ease:"power1.inOut",yoyo:!0,onComplete:()=>{setTimeout(()=>{V.push("/gameRecord")},1300)}})}}))},J=()=>{if(k.person.acc=="nan"){alert("需先登入");return}e.killTweensOf(S.value),$.value=!0,h.value=!1,setTimeout(()=>{z.value=!0},2500),setTimeout(()=>{A.value=!0},4500),setTimeout(()=>{F.value=!0},5e3),setTimeout(()=>{$.value=!1},3e3)},K=(o,f)=>{R.value[o]=!0,console.log(f),O.value+=f};for(var Q=function(o){o.preventDefault,o.target.classList.remove("animate"),o.target.classList.add("animate"),setTimeout(function(){o.target.classList.remove("animate")},700)},G=document.getElementsByClassName("bubbly-button"),D=0;D<G.length;D++)G[D].addEventListener("click",Q,!1);return(o,f)=>(p(),w("div",ye,[u(_)?(p(),w("div",{key:0,class:"ruleBox",onClick:f[0]||(f[0]=m=>x(_)?_.value=!u(_):_=!u(_))},[c("div",{class:"ruleMainBox",ref_key:"ruleGsap",ref:L},ve,512)])):g("",!0),u(h)?g("",!0):(p(),w("div",{key:1,class:"gameBoxInside",ref_key:"box",ref:N},[(p(!0),w(ee,null,oe(u(B),(m,C)=>(p(),w("div",{class:ae(["flip-card",u(R)[C]?"goRotate":""]),tabIndex:"0",onClick:H=>K(C,m),ref_for:!0,ref:`singleCard${C}`,onMousemove:H=>q(C),onMouseleave:H=>W(C)},[c("div",we,[ce,c("div",Oe,[c("h3",null,M(m),1)])])],42,pe))),256))],512)),u(h)?g("",!0):(p(),w("div",fe,"Score:"+M(u(O)),1)),u(O)>21?(p(),w("div",me,"已超過範圍，將不會納入點數保存")):g("",!0),c("div",null,[u(h)?te((p(),w("button",{key:0,class:"bubbly-button",onClick:J,ref_key:"floatBtn",ref:S},[ue(M(I.value?"Start!!":"開始"),1)])),[[u(re),P]]):g("",!0),u(h)?g("",!0):(p(),w("button",{key:1,class:"bubbly-button",onClick:j,disabled:u(O)>21}," 完成 ",8,_e))])]))}});const be=se(ge,[["__scopeId","data-v-f6fbeddf"]]);export{be as default};
